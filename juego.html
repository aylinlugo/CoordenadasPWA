<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Actividades - Coordenadas Candy Land</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="page">
    <header class="hero small">
      <div class="logo">üç°</div>
      <div><h1>Actividades</h1><p class="lead">Cada recarga genera ejercicios nuevos</p></div>
    </header>

    <main class="container">
      <section class="card">
        <h2>Actividad 1 ‚Äî Se√±ala la coordenada</h2>
        <p id="task1Desc">Observa la cuadr√≠cula y haz clic en el punto que corresponde a la coordenada indicada.</p>
        <div class="board" id="board1"></div>
        <div id="task1Feedback" class="feedback"></div>
      </section>

      <section class="card">
        <h2>Actividad 2 ‚Äî ¬øEn qu√© cuadrante est√°?</h2>
        <p id="task2Desc"></p>
        <div class="choices" id="task2Choices"></div>
        <div id="task2Feedback" class="feedback"></div>
      </section>

      <div style="display:flex;gap:10px;flex-wrap:wrap">
        <button class="btn" id="newAll">üîÅ Nueva actividad</button>
        <a class="btn" href="index.html">üè† Volver</a>
      </div>
    </main>

    <footer class="footer"><small>Actividades ‚Äî Candy Land</small></footer>
  </div>

  <script>
    // Simple randomized activities
    function rand(range=6){ return Math.floor(Math.random()*(range*2+1)) - range; }

    // Activity 1: show board and random point; user clicks correct point
    function renderBoard1(){
      const board = document.getElementById('board1');
      board.innerHTML = '';
      const w = 360, h = 360;
      board.style.width = w + 'px';
      board.style.height = h + 'px';
      const unit = 12;
      const cx = w/2, cy = h/2;

      // draw grid background using CSS on .board; we'll place points
      // pick point
      const x = rand(6), y = rand(6);
      document.getElementById('task1Desc').textContent = `Selecciona el punto (${x}, ${y}) en la cuadr√≠cula.`;

      // create 6 points including correct + distractors
      const points = [{x,y,correct:true}];
      while(points.length < 6){
        const px = rand(6), py = rand(6);
        if(!points.some(p=>p.x===px&&p.y===py)) points.push({x:px,y:py,correct:false});
      }
      // shuffle
      points.sort(()=>Math.random()-0.5);

      points.forEach((p,idx)=>{
        const el = document.createElement('button');
        el.className = 'dot';
        el.style.left = (cx + p.x*unit - 10) + 'px';
        el.style.top = (cy - p.y*unit - 10) + 'px';
        el.textContent = (idx+1);
        el.title = `(${p.x}, ${p.y})`;
        el.addEventListener('click', ()=>{
          if(p.correct){
            document.getElementById('task1Feedback').textContent = 'üéâ Correcto ‚Äî bien hecho!';
            if(navigator.vibrate) navigator.vibrate(80);
          } else {
            document.getElementById('task1Feedback').textContent = '‚ùå No es correcto. Intenta otra vez.';
            if(navigator.vibrate) navigator.vibrate([60,30,60]);
          }
        });
        board.appendChild(el);
      });
    }

    // Activity 2: quadrant identification
    function renderTask2(){
      const x = rand(6), y = rand(6);
      document.getElementById('task2Desc').textContent = `¬øEn qu√© cuadrante est√° el punto (${x}, ${y})?`;
      const choices = ['I','II','III','IV','Eje X','Eje Y','Origen'];
      const container = document.getElementById('task2Choices');
      container.innerHTML = '';
      choices.sort(()=>Math.random()-0.5).forEach(ch=>{
        const b = document.createElement('button');
        b.className = 'btn';
        b.textContent = ch;
        b.addEventListener('click', ()=>{
          const correct = getQuadrant(x,y);
          const chosen = ch;
          if (correct === chosen) {
            document.getElementById('task2Feedback').textContent = 'üéâ Correcto!';
            if(navigator.vibrate) navigator.vibrate(80);
          } else {
            document.getElementById('task2Feedback').textContent = `‚ùå Incorrecto ‚Äî la respuesta correcta es ${correct}.`;
            if(navigator.vibrate) navigator.vibrate([60,30,60]);
          }
        });
        container.appendChild(b);
      });
    }

    function getQuadrant(x,y){
      if (x === 0 && y === 0) return 'Origen';
      if (x === 0) return 'Eje Y';
      if (y === 0) return 'Eje X';
      if (x > 0 && y > 0) return 'I';
      if (x < 0 && y > 0) return 'II';
      if (x < 0 && y < 0) return 'III';
      if (x > 0 && y < 0) return 'IV';
    }

    document.getElementById('newAll').addEventListener('click', ()=>{ renderBoard1(); renderTask2(); document.getElementById('task1Feedback').textContent=''; document.getElementById('task2Feedback').textContent='';});

    // init
    renderBoard1();
    renderTask2();
  </script>

  <style>
    /* small internal styles for board */
    .board{
      position:relative;
      margin:10px 0;
      border-radius:10px;
      background:
        repeating-linear-gradient(0deg, rgba(0,0,0,0.03) 0 1px, transparent 1px 40px),
        repeating-linear-gradient(90deg, rgba(0,0,0,0.03) 0 1px, transparent 1px 40px);
      box-shadow:0 6px 16px rgba(0,0,0,0.06);
    }
    .dot{
      position:absolute;
      width:20px;height:20px;border-radius:50%;border:none;cursor:pointer;
      background:#ffc8d8;color:#6a0d4b;font-weight:700;
      display:flex;align-items:center;justify-content:center;
    }
    .feedback{margin-top:8px;font-weight:700;color:#6a0d4b}
  </style>
</body>
</html>
